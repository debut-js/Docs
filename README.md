<style>
tr td:not(:nth-child(1)) {
   text-align: center;
}
</style>

# Debut

Debut - это экосистема для разработки и запуска торговых стратегий. Аналог известного `ZenBot`, но с гораздо более гибкими возможностями для конструирования стратегий. Все что вам нужно сделать, это придумать и описать точки входа в рынок и подключить нужные [плагины](https://github.com/debut-js/Plugins) для работы. Все остальное - дело техники: **генетические алгоритмы** - помогут подобрать самые эффективные параметры для стратегии (период, стопы, и другие), **модуль подбора тикеров** - поможет найти подходящий для стратегии актив (токен или акцию), на котором она будет работать лучше всего.

В основе Debut лежит архитектура ядра и надстраиваемых плагинов, позволяющих гибко кастомизировать любые решения. Оснвной целью всей экосистемы Debut, является упрощение процесса создания и запуска рабочих торговых роботов на различные биржи. На данный момент поддерживаются: **Тинькофф Инвестици** и **Binance**.

В проекте есть две стартовые торговые стратегии "Для примера" как нужно работать с системой.

Пример работы стратегии [SpikesG](/src/strategies/spikes-grid/ReadMe.md) за 200 дней. Оптимизация проводилась за 180 дней и 20 дней свободной работы на необученных данных.
Использовался стартовый депозит в размере *500$*

<p align="center"><img src="https://github.com/debut-js/Strategies/raw/master/src/strategies/spikes-grid/img/BATUSDT.png" width="800"></p>

Статистика стратегии собиралась на основе плагина [статистики](https://github.com/debut-js/Plugins/tree/master/packages/stats), по ссылке можно подробнее узнать о значении некоторых статистических данных.

Визуализация выполнена с помощью плагина [Report](https://github.com/debut-js/Plugins/tree/master/packages/report).

## Community edition
Мы верим в силу сообщества! Именно поэтому решили опубликовать проект. Комьюнити версия бесплатная, но имеет некоторые ограничения в коммерческом использовании (доход от торговли стартегий не является коммерцией), а также технические отличия в тестировании стратегий. Присоединяйтесь к комьюнити, вступайте в **[чат разработчиков](https://t.me/joinchat/Acu2sbLIy_c0OWIy)**

## Enterprise edition
Энтерпрайз версия - это готовый набор инструментария для "больших дядек", для тех, кто занимается услугами торговли или создания стратегий профессионально. Здесь есть всё! И это всё уже готово работать на вас и на повышение скорости вашей разработки.


<table>
<thead>
<tr>
<th>Функционал</th>
<th>Community</th>
<th>Enterprise</th>
</tr>
</thead>
<tbody><tr>
<td>Тестер стратегий</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Эмуляция OHLC тиков в тестере</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Моудль поиска (finder) подходящих под стратегию активов</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Набор плагинов из <a href="https://github.com/debut-js/Plugins" target="_blank" rel="noopener">коллекции</a></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Базовый набор готовых торговых стратегий</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Данные свеч м1 для эмуляция тиков</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>Синтетическая эмуляция тиков в тестере (размер тика не более 0.75%)</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>Система управления рисками</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>Отчеты о работе в <a href="https://t.me/debutjs" target="_blank" rel="noopener">мессенджер</a></td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>Готовые решения для запуска на VPS/VDS и Cloud серверах</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>Техническая поддержка</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>Не ограниченое кол-во подключений TCP на Тинькофф API (<a href="https://tinkoffcreditsystems.github.io/invest-openapi/marketdata/" target="_blank" rel="noopener">о лимитах</a>)</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>Система быстрых подписок на сигналы по токену, для продаж сигналов</td>
<td>❌</td>
<td>✅</td>
</tr>
</tbody></table>

Мы ведем прямой эфир сделок на основе Enterprise решения в нашем [телеграмм канале](https://t.me/debutjs)

**Узнайте цену, отправив запрос на [sales@debutjs.io](mailto:sales@debutjs.io)**

**Дисклеймер**

- Debut не гарантирует 100% вероятности получения прибыли. Используйте его на свой страх и риск, полагаясь на собственный проффесионализм.
- Криптовалюта это глобальный эксперимент, поэтому Debut - тоже. То есть оба могут выйти из строя в любой момент.

<hr/>

## Core

### Транспорт
  Отвечает за все сетевые взаимодействия. За обработку ошибок и выполнение повторных запросов при возникновении проблем с сетью или на стороне самой биржи, например, блокировка операций при резких изменениях цены на ассет на биржах MOEX лии SPBEX.

### Генетический оптимизатор
  В его основе лежит модуль генетики [async-genetic](https://www.npmjs.com/package/async-genetic), который позволяет находить оптимальные параметры для различных систем (в том числе и для торговых роботов). Генетический оптимизатор позволяет гораздо более эффективно подбирать наилучшие параметры, в сравнении сравнению с простым перебором значений.

### Бектестер
  Позволяет проверить работу торговой системы за выбранный период. Ограничивается только количеством исторических данных на стороне брокера.

### Драйвер плагинов
  Позволяет легко внедряться в процесс работы Debut, манипулировать сделками, собирать статистику, управлять всеми этапами работы приложения.

### Потоковые индикаторы
  Новый подход к реализации [торговых индикаторов](https://github.com/debut-js/indicators) позволяет экономить на вычислениях, максимально переиспользовать результаты предыдущих вычислений для совершения новых расчетов. По результатам сравнения, индикаторы из экосистемы Debut в пике производительности *быстрее самых популярных конкурентов в 36 раз*.


## Типы данных **@debut/types**
### `Candle`
Форма представление рыночных данных. Используется как для тиков, так и для сформировавшихся свеч. Унифицированный стандарт, не зависит от выбора торговой площадки.

```javascript
interface Candle {
    o: number;
    c: number;
    h: number;
    l: number;
    v: number;
    time: number;
}
```
### `TimeFrame`
Унифицированный формат таймфрейма для работы стратегии, в списке только поддерживаемые форматы.

```javascript
type TimeFrame = '1min' | '3min' | '5min' | '15min' | '30min' | '1h' | '2h' | '4h' | 'day' | 'week' | 'month';
```
### `WorkingEnv`
Переменные окружения среды выполнения. Необходимо разделять все этапы производства. Тк для разного окружения требуется разная конфигурация плагинов и режимов работы. Настраиваемые переменные окружения позволяют инициализировать только требуемые для данного окружения механизмы.

```javascript
enum WorkingEnv {
    'genetic', // стратегия работает в режиме генетической оптимизации
    'tester', // стратегия работает в режиме тестирования на истории
    'production', // стратегия работает в режиме реальной торговли
}
```

### `DebutOptions`

Базовые опции для любой торговой стратегии.

```javascript
interface DebutOptions {
    broker: 'tinkoff' | 'binance'; // Тип брокера
    ticker: string; // Тикер
    currency: string; // Валюта
    interval: TimeFrame; // Временной интервал
    amount: number; // Сумма для работы стратегии
    fee?: number; // Налог за операцию в дробях
    id?: number; // Ид конфигурации
    sandbox?: boolean; // Активен ли режим песочницы или торговля на реальные деньги
    margin?: boolean; // Разрешена ли торговля в шорт
    lotsMultiplier?: number; // Множитель лотности, например если нужно сделать х2 или х3 закупку, по умолчанию 1
    equityLevel?: number; // Склько доступно от общего депозита для текущей стратегии
}
```

### `DebutMeta`
Базовый класс для определения мета информации о стратегии. Используется во всех файлах `meta.ts` содержащих мета данные.

```javascript
interface DebutMeta {
    parameters: GeneticSchema; // Параметры оптимизации стратегии
    score: (bot: DebutCore) => number; // Метод подсчета эффективности в генетической оптимизации
    validate: (cfg: DebutOptions) => false | DebutOptions; // Валидация конфигурации
    stats: (bot: DebutCore) => unknown; // Метод для получения статистики по роботу, может использоватся любой плагин статистики
    create: (transport: BaseTransport, cfg: DebutOptions, env: WorkingEnv) => Promise<DebutCore>; // Метод создания стратегии
    ticksFilter?: (solution: DebutOptions) => (tick: Candle) => boolean; // Фильтрация тиков, для удаления их из истории при тестированииях, работает также для генетика
}
```

### `GeneticSchema`
Объект состоящий из [Дескрипторов](#schemadescriptor) полей, описывающий диапазоны ранжинования полей и типы данных в них. Используется для генерации случайных значений, во время мутирования в генетическом алгоритме, или на начальном этапе для создания первого случайного набора данных.

Пример:
```javascript
const parameters: GeneticSchema<SpikesGOptions> = {
    stopLoss: { min: 10, max: 30 }, // float: числа от 10 до 30 с любой дробной частью
    usePeaks: { bool: true }, // boolean: true или false
    bandsPeriod: { min: 10, max: 80, int: true }, // int: целые числа от 10 до 80
    minus: { min: -10, max: -5, int: true }, // int: отрицательные целые числа от -10 до -5
};
```

### `SchemaDescriptor`
Формат ранжирования данных для случайной генерации значений. Поддерживаются `number`, `float` и `boolean` типы.

```javascript
type SchemaDescriptor = SchemaNumberDescriptor | SchemaBoolDescriptor;

type SchemaNumberDescriptor = {
    min: number; // начальное значение
    max: number; // конечное значеие
    int?: boolean; // целочисленное
    odd?: boolean; // Нечетное
    bool?
};

type SchemaBoolDescriptor = {
    bool: true; // булево
};
```

### `OrderType`
Поддерживаемые типы сделок. *На данный момент поддерживаются только рыночные сделки*

```javascript
enum OrderType {
    'BUY' = 'BUY', // Покупка по маркету
    'SELL' = 'SELL', // Продажа по маркету или шорт, в случае отсутствия позиций и разрешения маржинальной торговли
}
```
### `ExecutedOrder`

```javascript
interface ExecutedOrder {
    // Выбранный брокер для торговли
    broker: string;
    // Тип сделки из OrderType
    type: OrderType;
    // Тикер инструмента на бирже
    ticker: string;
    // Время свечи на которой был исполнен
    time: number;
    // Идентификатор актива на бирже, если поддерживается биржей
    figi?: string;
    // Валюта операции, в которой измеряется баланс например:
    // тикер XRPBTC - валюта сделки будет BTC,
    // тикер BTCUSDT - валюта это USDT,
    // в случае покупки акций это фиат за который продется акция.
    currency: string;
    // Таймфрейм свечей на котором работаем
    interval: TimeFrame;
    // Подпись стратегии (имя)
    author: string;
    // Цена выполнения заявки
    price: number;
    // Запрошеное количество лотов
    lots: number;
    // Размер лота, например в российских акциях в одном лоте может быть 1000 шт, по умолчанию lotSize = 1
    lotSize: number;
    // Размер пункта (Минимальное изменение цены)
    pipSize: number;
    // Фтаг песочницы (Используется в Enterprise версии)
    sandbox: boolean;
    // Является ли сделка закрывающей, то есть гасящей ранее открытую.
    // Для таких сделок будут заполнены поля openId и openPrice
    close: boolean;
    // Цена открытия. Только для сделок закрывающих позицию
    openPrice?: number;
    // Идентификатор сделки создавшей позицию. Только для закрывающих сделок
    openId?: string;
    // Множитель лотности, на него умножались лоты, для закупки. Используется для удобства работы с мартингейл системами.
    lotsMultiplier?: number;
    // Сколько средств берем от выделенных стратегии, значение в процентах считается от opts.amout поля
    // Пример: 0-1, 0 - 0%, 1 - 100%. 0.25 = 25%.
    equityLevel?: number;
    // Была ли выполнена сделка в фазе обучения на тестовых данных
    learning?: boolean;
    // Только для Binance - использовался ли cross margin счет
    margin?: boolean;
    // Только для Binance - использовался ли cross futures счет
    futures?: boolean;
    // Идентификатор сделки
    orderId: string;
    // Сколько лотов было куплено, может отличаться по количеству от запрошенных, по причинам работы биржи
    executedLots: number;
    // Данные о комиссии, валюта комиссии и размер
    commission: { currency: string; value: number };
    // Инидикация выполнения операций на рынке для данной сделки.
    // true - начались сетевые взаимодействия. false - нет или закончились
    processing?: boolean;
}
```
### `Instrument`
Параметры торгового инструмента.

```javascript
interface Instrument {
    // Идентификатор актива на бирже, если поддерживается биржей
    figi?: string;
    // Тикер на бирже
    ticker: string;
    // Размер пункта
    pipSize?: number;
    // Размер одного лота для покупки (по умолчанию 1)
    lot: number;
    // С какой точностью указываются лоты, например значение 6 = 0.000001
    lotPrecision: number;
}
```